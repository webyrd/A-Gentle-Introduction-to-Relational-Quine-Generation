\documentclass[onecolumn, 11pt, oneside, openright]{book}

\newcommand{\bookauthor}[0]{William E. Byrd}
\newcommand{\booktitle}[0]{Relational Programming in miniKanren}
\newcommand{\bookkeywords}[0]{miniKanren, Relational Programming, Logic Programming}

\usepackage{alltt}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{ccicons}
\usepackage{comment}
\usepackage[compact]{fancyvrb1}
\usepackage{fancyvrb}
\usepackage{float}
\usepackage{fontspec}
\usepackage{hanging}
\usepackage[CJKbookmarks,bookmarks=true,bookmarksopen=true]{hyperref}
\hypersetup{
    pdftitle={\booktitle},
    pdfauthor={\bookauthor},
    pdfkeywords={\bookkeywords},
    bookmarksnumbered=true,
%    pagebackref=true,
    breaklinks=true,
    urlcolor=blue,
    colorlinks=true,
    citecolor=blue,          %citeref's color
    linkcolor=blue,
}
\usepackage{hyphenat}
\usepackage{makeidx}

% Careful: mathbbol apparently doesn't like 11pt
% The stmryrd error about 11pt is actually caused by mathbbol
% See http://www.latex-community.org/forum/viewtopic.php?f=4&t=2099
% 10pt or 12pt are apparently okay, though.
%\usepackage[cspex,bbgreekl]{mathbbol}

\usepackage{microtype}
\usepackage{multicol,ragged2e}
\usepackage{natbib}
\usepackage{rotating}
\usepackage{slatex}
\usepackage{stmaryrd}
\usepackage{textcomp}
\usepackage[compact]{titlesec}
\usepackage{url}
\usepackage{verbatim}
\usepackage{xltxtra}

\DefineVerbatimEnvironment{code}{Verbatim}{commandchars=\\\{\}}
\DefineVerbatimEnvironment{Code}{Verbatim} 
 {baselinestretch=1.1,
  frame=single,
  framerule=0.5pt,
  commandchars=\\\{\}}
\DefineVerbatimEnvironment{Transcript}{Verbatim}
 {baselinestretch=1.1,
  frame=lines,
  xleftmargin=4em,
  xrightmargin=4em,
  framerule=0.5pt,
  numbers=left,
  numbersep=.5em,
  commandchars=\\\{\}}

% Uncomment to use author-date citation format
\bibpunct();A{},
\let\cite=\citep
 
\addtolength{\textwidth}{.5in}
\addtolength{\textheight}{.5in}
\setlength{\topmargin}{.25in}
\setlength{\oddsidemargin}{.75in}
\setlength{\evensidemargin}{.25in}

\titlespacing*{\section}{0pt}{*4}{*1.5}
\titlespacing*{\subsection}{0pt}{*4}{*1.5}
\titlespacing*{\subsubsection}{0pt}{*4}{*1.5}

\defschememathescape{$} % $
\def\schemecodehook{\setlength{\baselineskip}{0.5\baselineskip}}
\def\schemedisplayspace{\vspace{0.5cm}}

\makeindex

\begin{document}
\begin{schemeregion}
\bibliographystyle{abbrvnat}

\frontmatter

\VerbatimFootnotes

\include{halftitle}

\include{blank}

\include{title}

\include{copyright}

\include{dedication}

\include{blank}

{
\setcounter{tocdepth}{1}
\setlength{\parskip}{0pt}
\tableofcontents
}

%\include{acknowledgments}
%\include{preface}

\mainmatter

\include{introduction}


\bibliography{rpim}

\appendix

\end{schemeregion}
\end{document}

%%% outline

\chapter{Introduction to miniKanren}
\section{Core miniKanren}
\section{Constraint Logic Programming}
\section{Differences between miniKanren and Other Logic Languages}

\chapter{Translating from Scheme to miniKanren}
\section{A-Normal Form}
\section{Defunctionalization}
\section{Pattern Matching}

\chapter{Exploring the Chomsky Hierarchy}
\section{Regular Expression Matching}
\section{Deterministic Finite Automata}

\chapter{Relational Exploration of Programming Languages Fundamentals}
\section{Lexical Scope}
\section{Relational Program Transformations}
\subsection{Continuation-Passing Style}

\chapter{Relational Interpreters}
\section{Relational Scheme Interpreter}
\subsection{Generating Quines}
\section{Relational CESK Machine}
\subsection{Static Analysis using the Relational CESK Machine}

\chapter{Type Inference}
\section{Type Inhabitation}

\chapter{Probabilistic Logic Programming}

\chapter{Implementing miniKanren}
\section{Unification}
\section{An Embedding in Scheme}
\section{A miniKanren Interpreter}
\section{A Meta-circular miniKanren Interpreter}
\section{An Abstract Machine for miniKanren}
\section{A Relational miniKanren Interpreter}

\chapter{The Future of Relational Programming}
\section{Open Problems}
\section{Projects}
\subsection{Tool Support}
\subsubsection{Automatic Scheme-to-miniKanren Translation}
\subsubsection{Debugging Support}
\subsection{Interpreters}
\paragraph{Relational Concatenative Interpreter}
\subsection{Fun Projects}
\paragraph{Relational 6502 Emulator}
\paragraph{Relational Atari 2600 Emulator}
